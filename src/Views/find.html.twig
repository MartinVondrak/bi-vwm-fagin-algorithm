{% extends "base.html.twig" %}
{% block title %}Vyhledat{% endblock %}

{% block body %}
    {% include "header.html.twig" %}

    <div class="container">
        <h1>Vyhledat</h1>
        <p>FAGIN vyhledavani.</p>

        <form role="form" method="post">
            <div class="form-group">
                <div class="row">
                    <div class="col-sm-2">
                        <label>Algoritmus</label>
                    </div>
                    <div class="col-sm-10">
                        <label class="radio-inline">
                            <input type="radio" name="algorithm" value="fagin">Fagin
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="algorithm" value="seq">Sekvenční
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="row">
                    <div class="col-sm-2">
                        <label>Agregační funkce</label>
                    </div>
                    <div class="col-sm-10">
                        <label class="radio-inline">
                            <input type="radio" name="agregation" value="min">Min
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="agregation" value="max">Max
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="agregation" value="average">Průměr
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="row">
                    <div class="col-sm-2">
                        <label>Parametry</label>
                    </div>
                    <div class="col-sm-10">
                        <label class="checkbox-inline">
                            <input type="checkbox" name="volume" value="true">Obsah
                        </label>
                        <label class="checkbox-inline">
                            <input type="checkbox" name="power" value="true">Výkon
                        </label>
                        <label class="checkbox-inline">
                            <input type="checkbox" name="mileage" value="true">Tachometr
                        </label>
                        <label class="checkbox-inline">
                            <input type="checkbox" name="manufacture_year" value="true">Rok výroby
                        </label>
                        <label class="checkbox-inline">
                            <input type="checkbox" name="top_speed" value="true">Max. rychlost
                        </label>
                        <label class="checkbox-inline">
                            <input type="checkbox" name="acceleration" value="true">Zrychlení
                        </label>
                        <label class="checkbox-inline">
                            <input type="checkbox" name="price" value="true">Cena
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="row">
                    <div class="col-sm-2">
                        <label>Top K</label>
                    </div>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" name="top_k" placeholder="Top k">
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="row">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="btn btn-default">Vyhledat</button>
                    </div>
                </div>
            </div>
        </form>

        {% if cars %}

        <h1>Výsledky</h1>
        <p>Testovací výpis.</p>

        <div class="alert alert-info" role="alert">Výpis databáze načten za {{ dbTime }} sekund.</div>

        <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                <tr>
                    <th>Název</th><th>Obsah</th><th>Výkon</th><th>Tachometr</th><th>Rok výroby</th>
                    <th>Max. rychlost</th><th>Zrychlení</th><th>Cena</th>
                </tr>
                </thead>
                <tbody>
                {% for car in cars %}
                    <tr>
                        <td>{{ car.name }}</td>
                        <td>{{ car.volume }} ccm</td>
                        <td>{{ car.power }} kW</td>
                        <td>{{ car.mileage }} km</td>
                        <td>{{ car.manufactureyear }}</td>
                        <td>{{ car.topspeed }} km/h</td>
                        <td>{{ car.acceleration }} s</td>
                        <td>{{ car.price }} Kč</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>

        {% endif %}

    </div>
{% endblock %}